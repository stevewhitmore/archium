<div id="wiki-container">
  <section *ngIf="editMode"
           id="edit-wiki"
           class="half">
    <textarea placeholder="Page content..."
              [formControl]="inputContent"
              #inputContents
              (keydown)="handleSaveKeyCombos($event)"        
              (keyup)="updateContentValue(inputContents)"></textarea>
      

    <div id="save-cancel">
      <button id="cancel"
        title="Cancel changes" 
        (click)="cancelEditWiki();">
        <i class="fa fa-times" aria-hidden="true"></i>
        <span>Cancel</span>
      </button>
      <button id="save"
              title="Save wiki entry"
              (click)="saveWiki()">
        <i class="fa fa-floppy-o" aria-hidden="true"></i>
        <span>Save</span>
      </button>
    </div>
  </section>

  <section id="view-wiki" 
            class="{{editMode ? 'half' : 'full'}}">

    <div markdown [data]="wikiPage.pageContent"></div>

    <div id="wiki-controls">
        <span id="timestamp">Last updated {{wikiPage.dateUpdated | date:'yyyy.MM.dd.E HH:mm'}}</span>
        <div id="wiki-controls-inner" *ngIf="!deleteCheckOn">
            <button id="edit" (click)="turnEditModeOn()">
              <i class="fa fa-pencil" aria-hidden="true"></i>
              <span>Edit</span>
            </button>
            <button id="delete" (click)="toggleDeleteCheck()">
              <i class="fa fa-trash" aria-hidden="true"></i>
              <span>Delete</span>
            </button>
        </div>
    </div>
    <div class="confirm" id="are-you-sure-delete" *ngIf="deleteCheckOn">
        <div class="confirm-inner">
            <span>Are you sure you want to delete this page?<br><br>This cannot be undone.</span>
            <div class="confirm-button-group">
                <button class="yes" (click)="deleteWikiPage()">Yes</button>
                <button class="no" (click)="toggleDeleteCheck()">No</button>
            </div>
        </div>
    </div>
  </section>

</div>
